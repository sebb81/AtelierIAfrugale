<section class="grid">
  <section class="stage-card">
    <div class="stage-header">
      <div>
        <h2 id="stage-title">Atelier vision locale</h2>
        <p id="stage-desc">Detection mains en direct. Rien ne sort de la machine.</p>
      </div>
      <div id="status" class="status">Initialisation...</div>
    </div>
    <div id="stage-media" class="stage-media">
      <div class="stack">
        <video id="video" autoplay playsinline></video>
        <canvas id="overlay"></canvas>
      </div>
    </div>
    <div id="stage-placeholder" class="stage-placeholder" hidden>
      <h3>Module en preparation</h3>
      <p>Cette mission utilise un autre capteur ou un autre type de modele.</p>
    </div>
  </section>

  <aside class="mission-card">
    <div class="mission-header">
      <div>
        <h2 id="mission-title">Briefing de mission</h2>
        <p id="mission-subtitle">Serious game IA frugale : missions courtes, badges a debloquer.</p>
      </div>
      <div class="progress-meta">
        <span id="step-counter">Etape 1 / 1</span>
      </div>
    </div>
    <div class="progress-bar">
      <span id="progress-bar" class="progress-fill"></span>
    </div>
    <div class="mission-body">
      <h3 id="step-title"></h3>
      <p id="step-body"></p>
      <p id="step-hint" class="hint"></p>
    </div>
    <div class="mission-challenge" id="challenge-panel">
      <div class="slider-row">
        <label for="threshold">Seuil de confiance</label>
        <input id="threshold" type="range" min="0" max="1" step="0.01" value="0.6" />
        <span id="threshold-value">0.60</span>
      </div>
      <div class="stat-grid">
        <div class="stat">
          <span>Score geste</span>
          <strong id="gesture-score">0.00</strong>
        </div>
        <div class="stat">
          <span>Reconnaissance</span>
          <strong id="gesture-status">En attente</strong>
        </div>
        <div class="stat">
          <span>Meilleur seuil</span>
          <strong id="best-threshold">0.00</strong>
        </div>
        <div class="stat">
          <span>Badge</span>
          <strong id="badge-state">Verrouille</strong>
        </div>
      </div>
    </div>
  </aside>
</section>
